{"data":{"site":{"siteMetadata":{"title":"Another Chris","author":"Chris Small"}},"markdownRemark":{"id":"dabd55ba-c9f3-5360-af3c-edbcbfc525bc","excerpt":"If you need to inject a generic section of code to your view you’d typically write an extension method for the HtmlHelper class and return an MVCHtmlString. You…","html":"<p>If you need to inject a generic section of code to your view you’d typically write an extension method for the HtmlHelper class and return an MVCHtmlString. You can also create an extension method that will add a @section Name to the view, using something like the snippet below:</p>\n<!--more-->\n<pre>public static MvcHtmlString ShowModalForPage(this HtmlHelper helper, int pageIndex)\n{\n\tWebViewPage page = helper.ViewDataContainer as WebViewPage;\n\tif (page != null)\n\t{\n\t\tpage.DefineSection(\"Head\", () =&gt;\n\t\t{\n\t\t\tStringBuilder builder = new StringBuilder();\n\t\t\tbuilder.Append(@\"&lt;script type=\"\"text/javascript\"\"&gt;\");\n\t\t\tbuilder.Append(\"$(document).ready(function () \");\n\t\t\tbuilder.Append(\"{\");\n\t\t\tbuilder.Append(\"    showModal(\" + pageIndex+ \" );\");\n\t\t\tbuilder.Append(\"});\");\n\t\t\tbuilder.Append(\"&lt;/script&gt;\");\n\t\t\tpage.Write(MvcHtmlString.Create(builder.ToString()));\n\t\t});\n\t}\n\t\n\treturn MvcHtmlString.Empty;\n}\n</pre>\n<p>You still need to return a MvcHtmlString regardless of the fact it’s being added to the page via the WebViewPage.Write method.</p>","frontmatter":{"title":"Razor: Defining a section inside a HTML helper extension method","date":"April 04, 2012","description":null}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2012-04-04-razor-defining-a-section-inside-a-html-helper-extension-method/","previous":{"fields":{"slug":"/2012-03-30-powershell-snippet-running-your-own-powershell-scripts/"},"frontmatter":{"title":"Powershell snippet: running your own Powershell scripts"}},"next":{"fields":{"slug":"/2012-12-08-fixing-no-response-from-server-for-url-httplocalhost7055hubsession-problems-with-selenium/"},"frontmatter":{"title":"Fixing 'No response from server for url http://localhost:7055/hub/session/' problems with Selenium"}}}}
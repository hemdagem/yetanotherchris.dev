{"data":{"site":{"siteMetadata":{"title":"Another Chris","author":"Chris Small"}},"markdownRemark":{"id":"3d093457-1a51-5a5d-9fae-b8b59eabb5f7","excerpt":"Here’s a quick reference for scripting table creation in SQL server by hand, where the text is readable and pretty rather than an autogenerated mess. It’s…","html":"<p>Here’s a quick reference for scripting table creation in SQL server by hand, where the text is readable and pretty rather than an autogenerated mess.</p>\n<!--more-->\n<p><div id=\"gist4960139\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-gistfile1-sql\" class=\"file\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-sql \">\n      \n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\">\n      <tr>\n        <td id=\"file-gistfile1-sql-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n        <td id=\"file-gistfile1-sql-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">CREATE</span> <span class=\"pl-k\">TABLE</span> <span class=\"pl-en\">sometable</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-sql-L2\" class=\"blob-num js-line-number\" data-line-number=\"2\"></td>\n        <td id=\"file-gistfile1-sql-LC2\" class=\"blob-code blob-code-inner js-file-line\">(</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-sql-L3\" class=\"blob-num js-line-number\" data-line-number=\"3\"></td>\n        <td id=\"file-gistfile1-sql-LC3\" class=\"blob-code blob-code-inner js-file-line\">    \t[id] [uniqueidentifier] <span class=\"pl-k\">NOT NULL</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-sql-L4\" class=\"blob-num js-line-number\" data-line-number=\"4\"></td>\n        <td id=\"file-gistfile1-sql-LC4\" class=\"blob-code blob-code-inner js-file-line\">\t<span class=\"pl-k\">CONSTRAINT</span> [DF_sometable_id] DEFAULT (newid()), <span class=\"pl-c\"><span class=\"pl-c\">/*</span> This isn&#39;t required for DEFAULT <span class=\"pl-c\">*/</span></span></td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-sql-L5\" class=\"blob-num js-line-number\" data-line-number=\"5\"></td>\n        <td id=\"file-gistfile1-sql-LC5\" class=\"blob-code blob-code-inner js-file-line\">\t[userid] [uniqueidentifier] <span class=\"pl-k\">NOT NULL</span>,</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-sql-L6\" class=\"blob-num js-line-number\" data-line-number=\"6\"></td>\n        <td id=\"file-gistfile1-sql-LC6\" class=\"blob-code blob-code-inner js-file-line\">\t[accountid] [uniqueidentifier] <span class=\"pl-k\">NOT NULL</span>,</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-sql-L7\" class=\"blob-num js-line-number\" data-line-number=\"7\"></td>\n        <td id=\"file-gistfile1-sql-LC7\" class=\"blob-code blob-code-inner js-file-line\">\t[activated] [<span class=\"pl-k\">bit</span>] <span class=\"pl-k\">NOT NULL</span>,</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-sql-L8\" class=\"blob-num js-line-number\" data-line-number=\"8\"></td>\n        <td id=\"file-gistfile1-sql-LC8\" class=\"blob-code blob-code-inner js-file-line\">\t[activatedon] [datetime] <span class=\"pl-k\">NULL</span>,</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-sql-L9\" class=\"blob-num js-line-number\" data-line-number=\"9\"></td>\n        <td id=\"file-gistfile1-sql-LC9\" class=\"blob-code blob-code-inner js-file-line\">\t[email] [nvarchar](<span class=\"pl-c1\">128</span>)  <span class=\"pl-k\">NOT NULL</span>,</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-sql-L10\" class=\"blob-num js-line-number\" data-line-number=\"10\"></td>\n        <td id=\"file-gistfile1-sql-LC10\" class=\"blob-code blob-code-inner js-file-line\">\t[key] [<span class=\"pl-k\">varchar</span>](<span class=\"pl-c1\">32</span>)  <span class=\"pl-k\">NOT NULL</span>,</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-sql-L11\" class=\"blob-num js-line-number\" data-line-number=\"11\"></td>\n        <td id=\"file-gistfile1-sql-LC11\" class=\"blob-code blob-code-inner js-file-line\">\t<span class=\"pl-k\">PRIMARY KEY</span> NONCLUSTERED (id), <span class=\"pl-c\"><span class=\"pl-c\">/*</span> DONT USE CLUSTERED FOR uniqueidentifier <span class=\"pl-c\">*/</span></span></td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-sql-L12\" class=\"blob-num js-line-number\" data-line-number=\"12\"></td>\n        <td id=\"file-gistfile1-sql-LC12\" class=\"blob-code blob-code-inner js-file-line\">\t<span class=\"pl-k\">CONSTRAINT</span> FK_sometable_userid <span class=\"pl-k\">FOREIGN KEY</span>(userid) <span class=\"pl-k\">REFERENCES</span> users (id),</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-sql-L13\" class=\"blob-num js-line-number\" data-line-number=\"13\"></td>\n        <td id=\"file-gistfile1-sql-LC13\" class=\"blob-code blob-code-inner js-file-line\">\t<span class=\"pl-k\">CONSTRAINT</span> FK_sometable_accountid <span class=\"pl-k\">FOREIGN KEY</span>(accountid) <span class=\"pl-k\">REFERENCES</span> accounts (id),</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-sql-L14\" class=\"blob-num js-line-number\" data-line-number=\"14\"></td>\n        <td id=\"file-gistfile1-sql-LC14\" class=\"blob-code blob-code-inner js-file-line\">)</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-sql-L15\" class=\"blob-num js-line-number\" data-line-number=\"15\"></td>\n        <td id=\"file-gistfile1-sql-LC15\" class=\"blob-code blob-code-inner js-file-line\">CREATE NONCLUSTERED INDEX [idx_anothertable] <span class=\"pl-k\">ON</span> [dbo].[anothertable]</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-sql-L16\" class=\"blob-num js-line-number\" data-line-number=\"16\"></td>\n        <td id=\"file-gistfile1-sql-LC16\" class=\"blob-code blob-code-inner js-file-line\">(</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-sql-L17\" class=\"blob-num js-line-number\" data-line-number=\"17\"></td>\n        <td id=\"file-gistfile1-sql-LC17\" class=\"blob-code blob-code-inner js-file-line\">\t[sometypeid] <span class=\"pl-k\">ASC</span>,</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-sql-L18\" class=\"blob-num js-line-number\" data-line-number=\"18\"></td>\n        <td id=\"file-gistfile1-sql-LC18\" class=\"blob-code blob-code-inner js-file-line\">\t[fileid] <span class=\"pl-k\">ASC</span>,</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-sql-L19\" class=\"blob-num js-line-number\" data-line-number=\"19\"></td>\n        <td id=\"file-gistfile1-sql-LC19\" class=\"blob-code blob-code-inner js-file-line\">\t[layoutid] <span class=\"pl-k\">ASC</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-sql-L20\" class=\"blob-num js-line-number\" data-line-number=\"20\"></td>\n        <td id=\"file-gistfile1-sql-LC20\" class=\"blob-code blob-code-inner js-file-line\">)</td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/yetanotherchris/4960139/raw/4b7a5a0013372bb6dee8eaf42d2ff379916e19e4/gistfile1.sql\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/yetanotherchris/4960139#file-gistfile1-sql\">gistfile1.sql</a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<p>It’s usually easier to bulk add the foreign keys after, that way the order of the CREATE TABLES doesn’t matter:</p>\n<pre>ALTER TABLE [dbo].[sometable] ADD CONSTRAINT [FK_sometable_users_id] \n\tFOREIGN KEY([userid]) REFERENCES [dbo].[users] ([id])\n</pre>","frontmatter":{"title":"SQL create table reference","date":"December 20, 2010","description":null}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2010-12-20-sql-create-table-reference/","previous":{"fields":{"slug":"/2010-12-08-installing-the-spruce-alpha/"},"frontmatter":{"title":"Installing the Spruce alpha"}},"next":{"fields":{"slug":"/2010-12-22-csharp-bit-manipulation-by-example-part-1/"},"frontmatter":{"title":"C# Bit manipulation by example (part 1)"}}}}
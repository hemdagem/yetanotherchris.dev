{"data":{"site":{"siteMetadata":{"title":"Another Chris","author":"Chris Small"}},"markdownRemark":{"id":"1833df10-6891-54cf-b66b-3a736d7457b1","excerpt":"Download all examples from Bitbucket The basics The UINavigationController gives you a one step-at-a-time (like an install wizard) navigation by using a stack…","html":"<p><a href=\"http://www.bitbucket.org/mrshrinkray/monotouch-samples/src/\">Download all examples from Bitbucket</a></p>\n<h3>The basics</h3>\n<p>The UINavigationController gives you a one step-at-a-time (like an install wizard) navigation by using a stack of controllers. Microsoft were keen to introduce this in Vista with the control panel and the idea of back-forward buttons, and the UINavigationController isn’t much different.</p>\n<!--more-->\n<p><img src=\"/assets/2010/09/UINavigationController.png\" alt=\"UINavigationController\"></p>\n<p>The UINavigationController sits on the window and has an area to display each view/controller. From an ASP.NET MVC point of view it’s hard to tear yourself away from the idea that a controller has multiple actions, each potentially displaying a different view. In the iPhone and Cocoa Touch world each controller has one View only. It’s a 1-to-1 mapping. This View can itself contain views (Subviews), much like a control tree, or partial views in ASP.NET MVC.</p>\n<p>So when I refer to controller I am also talking about the top level, container view.</p>\n<p>UINavigationController has a Controllers property which is an array of the controllers it has displayed. The first item in the array is the first controller the UINavigationController displayed. Each controller is responsible for pushing the next controller that will be displayed after itself.</p>\n<p>So the root controller inside a UINavigationController may contain a button. When clicked, the button will “push” the next controller to be displayed. The controllers you use inside the UINavigationController will typically be a UIViewController, or a UITableViewController. </p>\n<h3>The UIViewController hierarchy</h3>\n<p>The inheritence chain looks like this:</p>\n<pre>UIViewController\n- UITableController\n- UINavigationController\n- UITabBarController\n</pre>\n<p>You can see that a UINavigationController infact inherits from UIViewController. The strange thing about this object model is the UIViewController has a property called NavigationController. So for OO purists this is a bit baffling that a parent class knows about its children. But moaning aside this is how it’s been done in UIKit. As you’ll find with a runtime error, you can’t place a UINavigationController inside a UINavigationController</p>\n<p>Whenever you push a controller, it can access the parent UINavigationController it may or may not belong to via the NavigationController property. The property is null if the controller is not inside a UINavigationController.</p>\n<h3>Going completely XIB-less</h3>\n<p>This and the accompanying 2 articles are Interface builder and NIB/XIB-free, however your iPhone project is always created with one XIB in the project - MainWindow.xib. This contains a reference to you parent UIWindow that the application is contained in, much like the first form in a winforms application.</p>\n<p>You can delete this XIB file if you want (it may also marginally improve performance) and create the window manually. Your AppDelegate class no longer needs to be partial as the designer file is gone too:</p>\n<pre>public class Application\n{\n\tstatic void Main(string[] args)\n\t{\n\t\t// Make sure you use this overload\n\t\tUIApplication.Main(args, null, \"AppDelegate\");\n\t}\n}\n\n[Register(\"AppDelegate\")]\npublic class AppDelegate : UIApplicationDelegate\n{\n\tprivate UIWindow window;\n\tprivate MyController controller;\n\tpublic override bool FinishedLaunching(UIApplication app, NSDictionary options)\n\t{\n\t\tvar screenBounds = UIScreen.MainScreen.Bounds;\n\t\tcontroller = new MyController();\n\t\twindow = new UIWindow(screenBounds);\n\t\twindow.AddSubview(controller.View);\n\t\twindow.MakeKeyAndVisible();\n\t\treturn true;\n\t}\n\t// This method is required in iPhoneOS 3.0\n\tpublic override void OnActivated(UIApplication application)\n\t{\n\t}\n}\n</pre>\n<p><strong>Make sure you remove “Mainwindow.xib” from your project settings, ‘Main interface file’ option under the iPhone Application section.</strong></p>\n<p>However for the remainder of the article I’ll stick to the default Monotouch iPhone project way of having a partial designer class.</p>\n<h3>Adding a UINavigationController</h3>\n<p>If you create a new iPhone project in Monotouch, the first step to do is add a new class, and add your UINavigationController. Before you do anything, tell your main window that it should display your controller by adding two lines to the appdelegate class:</p>\n<pre>public partial class AppDelegate : UIApplicationDelegate\n{\n\tprivate NavigationController controller;\n\tpublic override bool FinishedLaunching(UIApplication app, NSDictionary options)\n\t{\n\t\tcontroller = new NavigationController();\n\t\twindow.AddSubview(controller.View);\n\t\twindow.MakeKeyAndVisible();\n\t\treturn true;\n\t}\n\t// This method is required in iPhoneOS 3.0\n\tpublic override void OnActivated(UIApplication application)\n\t{\n\t}\n}\n</pre>\n<p>Make sure you don’t use local variables for Controller declarations. Whilst there are no problems with this when using the iPhone Simulator, you run the risk of getting runtime errors on the iPhone, as garbage collection is a lot stricter and intense. The iPhone Simulator will run your application using the familiar generation-based garbage collection mechanism. However on the iPhone you are running AOT (ahead of time) compiled C#, and your objects are dereferenced in a lot stricter manner. Much like in Winforms your controls all have a private member as a reference, in Monotouch the same thing is advisible for all controllers and views you reference in a controller.</p>\n<p><img src=\"/assets/2010/09/UINavigationController2.png\" alt=\"UINavigationController\"></p>\n<p>One thing to note about the approach I’m taking in this article is I’m creating a new class for each controller I’m using. You don’t have to do it this way - you can simply create a new instance of UIViewController and add controls and layout code to this inside your UINavigationController. However with this approach you get one large monolithic class that performs all layout. By creating separate classes for each controller, you separate responsibilities a lot more clearly, providing <a href=\"http://en.wikipedia.org/wiki/Separation_of_concerns\">better separation of concerns</a> and higher cohesion. In short, you avoid the spaghetti that a lot of winforms applications can suffer from.</p>\n<p>Below is the NavigationController that the AppDelegate class references.</p>\n<pre>public class NavigationController : UINavigationController\n{\n\tHomeViewController _firstController;\n\tpublic override void ViewDidLoad()\n\t{\n\t\t_firstController = new HomeViewController();\n\t\tPushViewController(_firstController, true);\n\t\tbase.ViewDidLoad();\n\t}\n}\n</pre>\n<p>After this, you’re ready to add the first controller/view the UINavigationController displays. I put my definition all into one .cs file in the solution download, however it’s cleaner to create a folder called “Controllers” and place each separate controller into its own file.</p>\n<pre>public class HomeViewController : UIViewController\n{\n\tpublic override void ViewDidLoad ()\n\t{\n\t}\n}\n</pre>\n<p>Hitting run will display a navigation bar and a white view.</p>\n<h3>ViewDidLoad, ViewWillAppear, ViewDidAppear</h3>\n<p>If you’re confused about which overriden method the initialization code for your control (sorry - view) layout should go be in, read this <a href=\"/monotouch/monotouch-tips-and-snippets#viewdidload\">small piece first</a>.</p>\n<p><div id=\"gist4959948\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-gistfile1-cs\" class=\"file\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-c \">\n      \n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\">\n      <tr>\n        <td id=\"file-gistfile1-cs-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n        <td id=\"file-gistfile1-cs-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">public</span> <span class=\"pl-k\">class</span> <span class=\"pl-en\">Level2ViewController</span> : <span class=\"pl-en\">UIViewController</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L2\" class=\"blob-num js-line-number\" data-line-number=\"2\"></td>\n        <td id=\"file-gistfile1-cs-LC2\" class=\"blob-code blob-code-inner js-file-line\">{</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L3\" class=\"blob-num js-line-number\" data-line-number=\"3\"></td>\n        <td id=\"file-gistfile1-cs-LC3\" class=\"blob-code blob-code-inner js-file-line\">    \t<span class=\"pl-k\">public</span> <span class=\"pl-k\">override</span> <span class=\"pl-k\">void</span> <span class=\"pl-en\">ViewDidLoad</span>()</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L4\" class=\"blob-num js-line-number\" data-line-number=\"4\"></td>\n        <td id=\"file-gistfile1-cs-LC4\" class=\"blob-code blob-code-inner js-file-line\">\t{</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L5\" class=\"blob-num js-line-number\" data-line-number=\"5\"></td>\n        <td id=\"file-gistfile1-cs-LC5\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-smi\">Title</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>Level 2<span class=\"pl-pds\">&quot;</span></span>;</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L6\" class=\"blob-num js-line-number\" data-line-number=\"6\"></td>\n        <td id=\"file-gistfile1-cs-LC6\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-en\">UILabel</span> <span class=\"pl-smi\">label</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">UILabel</span>();</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L7\" class=\"blob-num js-line-number\" data-line-number=\"7\"></td>\n        <td id=\"file-gistfile1-cs-LC7\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-smi\">label</span>.<span class=\"pl-smi\">Text</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>Level2ViewController<span class=\"pl-pds\">&quot;</span></span>;</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L8\" class=\"blob-num js-line-number\" data-line-number=\"8\"></td>\n        <td id=\"file-gistfile1-cs-LC8\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-smi\">label</span>.<span class=\"pl-smi\">Frame</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-k\">System</span>.<span class=\"pl-k\">Drawing</span>.<span class=\"pl-en\">RectangleF</span>(<span class=\"pl-c1\">100</span>, <span class=\"pl-c1\">100</span>, <span class=\"pl-c1\">100</span>, <span class=\"pl-c1\">100</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L9\" class=\"blob-num js-line-number\" data-line-number=\"9\"></td>\n        <td id=\"file-gistfile1-cs-LC9\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-smi\">View</span>.<span class=\"pl-en\">AddSubview</span>(<span class=\"pl-smi\">label</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L10\" class=\"blob-num js-line-number\" data-line-number=\"10\"></td>\n        <td id=\"file-gistfile1-cs-LC10\" class=\"blob-code blob-code-inner js-file-line\">\t\t</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L11\" class=\"blob-num js-line-number\" data-line-number=\"11\"></td>\n        <td id=\"file-gistfile1-cs-LC11\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-c\"><span class=\"pl-c\">//</span> A new toolbar with items</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L12\" class=\"blob-num js-line-number\" data-line-number=\"12\"></td>\n        <td id=\"file-gistfile1-cs-LC12\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-en\">UIBarButtonItem</span> <span class=\"pl-smi\">item</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">UIBarButtonItem</span>();</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L13\" class=\"blob-num js-line-number\" data-line-number=\"13\"></td>\n        <td id=\"file-gistfile1-cs-LC13\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-smi\">item</span>.<span class=\"pl-smi\">Title</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>Another item<span class=\"pl-pds\">&quot;</span></span>;</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L14\" class=\"blob-num js-line-number\" data-line-number=\"14\"></td>\n        <td id=\"file-gistfile1-cs-LC14\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-smi\">item</span>.<span class=\"pl-smi\">Clicked</span> <span class=\"pl-k\">+=</span> <span class=\"pl-k\">delegate</span>(<span class=\"pl-k\">object</span> <span class=\"pl-smi\">sender</span>, <span class=\"pl-en\">EventArgs</span> <span class=\"pl-smi\">e</span>)</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L15\" class=\"blob-num js-line-number\" data-line-number=\"15\"></td>\n        <td id=\"file-gistfile1-cs-LC15\" class=\"blob-code blob-code-inner js-file-line\">\t\t{</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L16\" class=\"blob-num js-line-number\" data-line-number=\"16\"></td>\n        <td id=\"file-gistfile1-cs-LC16\" class=\"blob-code blob-code-inner js-file-line\">\t\t\t<span class=\"pl-en\">Level3ViewController</span> <span class=\"pl-smi\">controller</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Level3ViewController</span>();</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L17\" class=\"blob-num js-line-number\" data-line-number=\"17\"></td>\n        <td id=\"file-gistfile1-cs-LC17\" class=\"blob-code blob-code-inner js-file-line\">\t\t\t<span class=\"pl-smi\">NavigationController</span>.<span class=\"pl-en\">PushViewController</span>(<span class=\"pl-smi\">controller</span>, <span class=\"pl-c1\">true</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L18\" class=\"blob-num js-line-number\" data-line-number=\"18\"></td>\n        <td id=\"file-gistfile1-cs-LC18\" class=\"blob-code blob-code-inner js-file-line\">\t\t};</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L19\" class=\"blob-num js-line-number\" data-line-number=\"19\"></td>\n        <td id=\"file-gistfile1-cs-LC19\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L20\" class=\"blob-num js-line-number\" data-line-number=\"20\"></td>\n        <td id=\"file-gistfile1-cs-LC20\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-smi\">ToolbarItems</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">UIBarButtonItem</span>[] { <span class=\"pl-smi\">item</span> };</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L21\" class=\"blob-num js-line-number\" data-line-number=\"21\"></td>\n        <td id=\"file-gistfile1-cs-LC21\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-k\">base</span>.<span class=\"pl-en\">ViewDidLoad</span>();</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L22\" class=\"blob-num js-line-number\" data-line-number=\"22\"></td>\n        <td id=\"file-gistfile1-cs-LC22\" class=\"blob-code blob-code-inner js-file-line\">\t}</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L23\" class=\"blob-num js-line-number\" data-line-number=\"23\"></td>\n        <td id=\"file-gistfile1-cs-LC23\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L24\" class=\"blob-num js-line-number\" data-line-number=\"24\"></td>\n        <td id=\"file-gistfile1-cs-LC24\" class=\"blob-code blob-code-inner js-file-line\">\t<span class=\"pl-k\">public</span> <span class=\"pl-k\">override</span> <span class=\"pl-k\">void</span> <span class=\"pl-en\">ViewWillAppear</span>(<span class=\"pl-k\">bool</span> <span class=\"pl-smi\">animated</span>)</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L25\" class=\"blob-num js-line-number\" data-line-number=\"25\"></td>\n        <td id=\"file-gistfile1-cs-LC25\" class=\"blob-code blob-code-inner js-file-line\">\t{</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L26\" class=\"blob-num js-line-number\" data-line-number=\"26\"></td>\n        <td id=\"file-gistfile1-cs-LC26\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-c\"><span class=\"pl-c\">//</span> Re-show the toolbar here for consistency</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L27\" class=\"blob-num js-line-number\" data-line-number=\"27\"></td>\n        <td id=\"file-gistfile1-cs-LC27\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-smi\">NavigationController</span>.<span class=\"pl-en\">SetToolbarHidden</span>(<span class=\"pl-c1\">false</span>, <span class=\"pl-c1\">true</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L28\" class=\"blob-num js-line-number\" data-line-number=\"28\"></td>\n        <td id=\"file-gistfile1-cs-LC28\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-k\">base</span>.<span class=\"pl-en\">ViewWillAppear</span>(<span class=\"pl-smi\">animated</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L29\" class=\"blob-num js-line-number\" data-line-number=\"29\"></td>\n        <td id=\"file-gistfile1-cs-LC29\" class=\"blob-code blob-code-inner js-file-line\">\t}</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L30\" class=\"blob-num js-line-number\" data-line-number=\"30\"></td>\n        <td id=\"file-gistfile1-cs-LC30\" class=\"blob-code blob-code-inner js-file-line\">}</td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/yetanotherchris/4959948/raw/e0c0ecc9f0fbcbb5cc566cdea8940cca697bdd58/gistfile1.cs\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/yetanotherchris/4959948#file-gistfile1-cs\">gistfile1.cs</a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<h3>Adding controls (Views) to the first controller</h3>\n<p>I’ll stick to using the term “controls” to mean a label, button, textfield but as mentioned Apple defines these as Views. The code below demonstrates a basic label and 2 tool bar buttons on the first controller. It centers the three controls, and each button click Pushes, and therefore subsequently displays the next controller.</p>\n<p>You get a toolbar and a navigation bar to hide or display as you wish with each controller inside the parent UINavigationController. The HomeViewController makes sure the toolbar is displayed in the ViewWillAppear method. The reason for this is the controller that the first button pushes hides the toolbar, so when the user hits back on that controller (and returns to the HomeViewController), the toolbar needs to be re-displayed.</p>\n<p><div id=\"gist4959932\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-gistfile1-cs\" class=\"file\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-c \">\n      \n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\">\n      <tr>\n        <td id=\"file-gistfile1-cs-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n        <td id=\"file-gistfile1-cs-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">public</span> <span class=\"pl-k\">class</span> <span class=\"pl-en\">HomeViewController</span> : <span class=\"pl-en\">UIViewController</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L2\" class=\"blob-num js-line-number\" data-line-number=\"2\"></td>\n        <td id=\"file-gistfile1-cs-LC2\" class=\"blob-code blob-code-inner js-file-line\">{</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L3\" class=\"blob-num js-line-number\" data-line-number=\"3\"></td>\n        <td id=\"file-gistfile1-cs-LC3\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-k\">public</span> <span class=\"pl-k\">override</span> <span class=\"pl-k\">void</span> <span class=\"pl-en\">ViewDidLoad</span>()</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L4\" class=\"blob-num js-line-number\" data-line-number=\"4\"></td>\n        <td id=\"file-gistfile1-cs-LC4\" class=\"blob-code blob-code-inner js-file-line\">\t{</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L5\" class=\"blob-num js-line-number\" data-line-number=\"5\"></td>\n        <td id=\"file-gistfile1-cs-LC5\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-smi\">Title</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>Home<span class=\"pl-pds\">&quot;</span></span>;</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L6\" class=\"blob-num js-line-number\" data-line-number=\"6\"></td>\n        <td id=\"file-gistfile1-cs-LC6\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-c\"><span class=\"pl-c\">//</span> A &#39;view&#39; aka label control for this view</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L7\" class=\"blob-num js-line-number\" data-line-number=\"7\"></td>\n        <td id=\"file-gistfile1-cs-LC7\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-en\">UILabel</span> <span class=\"pl-smi\">label</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">UILabel</span>();</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L8\" class=\"blob-num js-line-number\" data-line-number=\"8\"></td>\n        <td id=\"file-gistfile1-cs-LC8\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-smi\">label</span>.<span class=\"pl-smi\">Text</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>HomeViewController<span class=\"pl-pds\">&quot;</span></span>;</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L9\" class=\"blob-num js-line-number\" data-line-number=\"9\"></td>\n        <td id=\"file-gistfile1-cs-LC9\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-smi\">label</span>.<span class=\"pl-smi\">Frame</span> <span class=\"pl-k\">=</span> <span class=\"pl-en\">Center</span>(<span class=\"pl-c1\">100</span>, <span class=\"pl-c1\">100</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L10\" class=\"blob-num js-line-number\" data-line-number=\"10\"></td>\n        <td id=\"file-gistfile1-cs-LC10\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-smi\">label</span>.<span class=\"pl-smi\">BackgroundColor</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">UIColor</span>.<span class=\"pl-smi\">LightGray</span>;</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L11\" class=\"blob-num js-line-number\" data-line-number=\"11\"></td>\n        <td id=\"file-gistfile1-cs-LC11\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L12\" class=\"blob-num js-line-number\" data-line-number=\"12\"></td>\n        <td id=\"file-gistfile1-cs-LC12\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-smi\">View</span>.<span class=\"pl-en\">AddSubview</span>(<span class=\"pl-smi\">label</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L13\" class=\"blob-num js-line-number\" data-line-number=\"13\"></td>\n        <td id=\"file-gistfile1-cs-LC13\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L14\" class=\"blob-num js-line-number\" data-line-number=\"14\"></td>\n        <td id=\"file-gistfile1-cs-LC14\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-c\"><span class=\"pl-c\">//</span> 2 toolbar items</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L15\" class=\"blob-num js-line-number\" data-line-number=\"15\"></td>\n        <td id=\"file-gistfile1-cs-LC15\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-en\">UIBarButtonItem</span> <span class=\"pl-smi\">item1</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">UIBarButtonItem</span>();</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L16\" class=\"blob-num js-line-number\" data-line-number=\"16\"></td>\n        <td id=\"file-gistfile1-cs-LC16\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-smi\">item1</span>.<span class=\"pl-smi\">Title</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>Click me<span class=\"pl-pds\">&quot;</span></span>;</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L17\" class=\"blob-num js-line-number\" data-line-number=\"17\"></td>\n        <td id=\"file-gistfile1-cs-LC17\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-smi\">item1</span>.<span class=\"pl-smi\">Clicked</span> <span class=\"pl-k\">+=</span> <span class=\"pl-k\">delegate</span>(<span class=\"pl-k\">object</span> <span class=\"pl-smi\">sender</span>, <span class=\"pl-en\">EventArgs</span> <span class=\"pl-smi\">e</span>)</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L18\" class=\"blob-num js-line-number\" data-line-number=\"18\"></td>\n        <td id=\"file-gistfile1-cs-LC18\" class=\"blob-code blob-code-inner js-file-line\">\t\t{</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L19\" class=\"blob-num js-line-number\" data-line-number=\"19\"></td>\n        <td id=\"file-gistfile1-cs-LC19\" class=\"blob-code blob-code-inner js-file-line\">\t\t\t<span class=\"pl-en\">Level2ViewController</span> <span class=\"pl-smi\">controller</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Level2ViewController</span>();</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L20\" class=\"blob-num js-line-number\" data-line-number=\"20\"></td>\n        <td id=\"file-gistfile1-cs-LC20\" class=\"blob-code blob-code-inner js-file-line\">\t\t\t<span class=\"pl-smi\">NavigationController</span>.<span class=\"pl-en\">PushViewController</span>(<span class=\"pl-smi\">controller</span>, <span class=\"pl-c1\">true</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L21\" class=\"blob-num js-line-number\" data-line-number=\"21\"></td>\n        <td id=\"file-gistfile1-cs-LC21\" class=\"blob-code blob-code-inner js-file-line\">\t\t};</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L22\" class=\"blob-num js-line-number\" data-line-number=\"22\"></td>\n        <td id=\"file-gistfile1-cs-LC22\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L23\" class=\"blob-num js-line-number\" data-line-number=\"23\"></td>\n        <td id=\"file-gistfile1-cs-LC23\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-en\">UIBarButtonItem</span> <span class=\"pl-smi\">item2</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">UIBarButtonItem</span>();</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L24\" class=\"blob-num js-line-number\" data-line-number=\"24\"></td>\n        <td id=\"file-gistfile1-cs-LC24\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-smi\">item2</span>.<span class=\"pl-smi\">Title</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>View with no back<span class=\"pl-pds\">&quot;</span></span>;</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L25\" class=\"blob-num js-line-number\" data-line-number=\"25\"></td>\n        <td id=\"file-gistfile1-cs-LC25\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-smi\">item2</span>.<span class=\"pl-smi\">Clicked</span> <span class=\"pl-k\">+=</span> <span class=\"pl-k\">delegate</span>(<span class=\"pl-k\">object</span> <span class=\"pl-smi\">sender</span>, <span class=\"pl-en\">EventArgs</span> <span class=\"pl-smi\">e</span>)</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L26\" class=\"blob-num js-line-number\" data-line-number=\"26\"></td>\n        <td id=\"file-gistfile1-cs-LC26\" class=\"blob-code blob-code-inner js-file-line\">\t\t{</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L27\" class=\"blob-num js-line-number\" data-line-number=\"27\"></td>\n        <td id=\"file-gistfile1-cs-LC27\" class=\"blob-code blob-code-inner js-file-line\">\t\t\t<span class=\"pl-en\">ViewWithNoBackController</span> <span class=\"pl-smi\">controller</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">ViewWithNoBackController</span>();</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L28\" class=\"blob-num js-line-number\" data-line-number=\"28\"></td>\n        <td id=\"file-gistfile1-cs-LC28\" class=\"blob-code blob-code-inner js-file-line\">\t\t\t<span class=\"pl-smi\">NavigationController</span>.<span class=\"pl-en\">PushViewController</span>(<span class=\"pl-smi\">controller</span>, <span class=\"pl-c1\">true</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L29\" class=\"blob-num js-line-number\" data-line-number=\"29\"></td>\n        <td id=\"file-gistfile1-cs-LC29\" class=\"blob-code blob-code-inner js-file-line\">\t\t};</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L30\" class=\"blob-num js-line-number\" data-line-number=\"30\"></td>\n        <td id=\"file-gistfile1-cs-LC30\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L31\" class=\"blob-num js-line-number\" data-line-number=\"31\"></td>\n        <td id=\"file-gistfile1-cs-LC31\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-smi\">ToolbarItems</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">UIBarButtonItem</span>[] { <span class=\"pl-smi\">item1</span>, <span class=\"pl-smi\">item2</span> };</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L32\" class=\"blob-num js-line-number\" data-line-number=\"32\"></td>\n        <td id=\"file-gistfile1-cs-LC32\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-k\">base</span>.<span class=\"pl-en\">ViewDidLoad</span>();</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L33\" class=\"blob-num js-line-number\" data-line-number=\"33\"></td>\n        <td id=\"file-gistfile1-cs-LC33\" class=\"blob-code blob-code-inner js-file-line\">\t}</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L34\" class=\"blob-num js-line-number\" data-line-number=\"34\"></td>\n        <td id=\"file-gistfile1-cs-LC34\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L35\" class=\"blob-num js-line-number\" data-line-number=\"35\"></td>\n        <td id=\"file-gistfile1-cs-LC35\" class=\"blob-code blob-code-inner js-file-line\">\t<span class=\"pl-k\">public</span> <span class=\"pl-k\">override</span> <span class=\"pl-k\">void</span> <span class=\"pl-en\">ViewWillAppear</span>(<span class=\"pl-k\">bool</span> <span class=\"pl-smi\">animated</span>)</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L36\" class=\"blob-num js-line-number\" data-line-number=\"36\"></td>\n        <td id=\"file-gistfile1-cs-LC36\" class=\"blob-code blob-code-inner js-file-line\">\t{</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L37\" class=\"blob-num js-line-number\" data-line-number=\"37\"></td>\n        <td id=\"file-gistfile1-cs-LC37\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-c\"><span class=\"pl-c\">//</span> Re-show the toolbar here for consistency</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L38\" class=\"blob-num js-line-number\" data-line-number=\"38\"></td>\n        <td id=\"file-gistfile1-cs-LC38\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-smi\">NavigationController</span>.<span class=\"pl-en\">SetToolbarHidden</span>(<span class=\"pl-c1\">false</span>, <span class=\"pl-c1\">true</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L39\" class=\"blob-num js-line-number\" data-line-number=\"39\"></td>\n        <td id=\"file-gistfile1-cs-LC39\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-k\">base</span>.<span class=\"pl-en\">ViewWillAppear</span>(<span class=\"pl-smi\">animated</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L40\" class=\"blob-num js-line-number\" data-line-number=\"40\"></td>\n        <td id=\"file-gistfile1-cs-LC40\" class=\"blob-code blob-code-inner js-file-line\">\t}</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L41\" class=\"blob-num js-line-number\" data-line-number=\"41\"></td>\n        <td id=\"file-gistfile1-cs-LC41\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L42\" class=\"blob-num js-line-number\" data-line-number=\"42\"></td>\n        <td id=\"file-gistfile1-cs-LC42\" class=\"blob-code blob-code-inner js-file-line\">\t<span class=\"pl-k\">public</span> <span class=\"pl-en\">RectangleF</span> <span class=\"pl-en\">Center</span>(<span class=\"pl-k\">float</span> <span class=\"pl-smi\">width</span>, <span class=\"pl-k\">float</span> <span class=\"pl-smi\">height</span>)</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L43\" class=\"blob-num js-line-number\" data-line-number=\"43\"></td>\n        <td id=\"file-gistfile1-cs-LC43\" class=\"blob-code blob-code-inner js-file-line\">\t{</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L44\" class=\"blob-num js-line-number\" data-line-number=\"44\"></td>\n        <td id=\"file-gistfile1-cs-LC44\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-k\">var</span> <span class=\"pl-smi\">rect</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">RectangleF</span>((<span class=\"pl-smi\">View</span>.<span class=\"pl-smi\">Frame</span>.<span class=\"pl-smi\">Width</span> <span class=\"pl-k\">/</span> <span class=\"pl-c1\">2</span>) <span class=\"pl-k\">-</span> (<span class=\"pl-smi\">width</span> <span class=\"pl-k\">/</span> <span class=\"pl-c1\">2</span>), (<span class=\"pl-smi\">View</span>.<span class=\"pl-smi\">Frame</span>.<span class=\"pl-smi\">Height</span> <span class=\"pl-k\">/</span> <span class=\"pl-c1\">2</span>) <span class=\"pl-k\">-</span> (<span class=\"pl-smi\">height</span> <span class=\"pl-k\">/</span> <span class=\"pl-c1\">2</span>), <span class=\"pl-smi\">width</span>, <span class=\"pl-smi\">height</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L45\" class=\"blob-num js-line-number\" data-line-number=\"45\"></td>\n        <td id=\"file-gistfile1-cs-LC45\" class=\"blob-code blob-code-inner js-file-line\">\t\t</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L46\" class=\"blob-num js-line-number\" data-line-number=\"46\"></td>\n        <td id=\"file-gistfile1-cs-LC46\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-c\"><span class=\"pl-c\">//</span> Prints:</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L47\" class=\"blob-num js-line-number\" data-line-number=\"47\"></td>\n        <td id=\"file-gistfile1-cs-LC47\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-c\"><span class=\"pl-c\">//</span> Rect: {X=110,Y=180,Width=100,Height=100}</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L48\" class=\"blob-num js-line-number\" data-line-number=\"48\"></td>\n        <td id=\"file-gistfile1-cs-LC48\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-c\"><span class=\"pl-c\">//</span> Frame: {X=0,Y=20,Width=320,Height=460}</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L49\" class=\"blob-num js-line-number\" data-line-number=\"49\"></td>\n        <td id=\"file-gistfile1-cs-LC49\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-smi\">Console</span>.<span class=\"pl-en\">WriteLine</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>Rect: {0}<span class=\"pl-pds\">&quot;</span></span>, <span class=\"pl-smi\">rect</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L50\" class=\"blob-num js-line-number\" data-line-number=\"50\"></td>\n        <td id=\"file-gistfile1-cs-LC50\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-smi\">Console</span>.<span class=\"pl-en\">WriteLine</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>Frame: {0}<span class=\"pl-pds\">&quot;</span></span>, <span class=\"pl-smi\">View</span>.<span class=\"pl-smi\">Frame</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L51\" class=\"blob-num js-line-number\" data-line-number=\"51\"></td>\n        <td id=\"file-gistfile1-cs-LC51\" class=\"blob-code blob-code-inner js-file-line\">\t\t<span class=\"pl-k\">return</span> <span class=\"pl-smi\">rect</span>;</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L52\" class=\"blob-num js-line-number\" data-line-number=\"52\"></td>\n        <td id=\"file-gistfile1-cs-LC52\" class=\"blob-code blob-code-inner js-file-line\">\t}</td>\n      </tr>\n      <tr>\n        <td id=\"file-gistfile1-cs-L53\" class=\"blob-num js-line-number\" data-line-number=\"53\"></td>\n        <td id=\"file-gistfile1-cs-LC53\" class=\"blob-code blob-code-inner js-file-line\">}</td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/yetanotherchris/4959932/raw/533f78293a30b01600ffc32e39b94b4abc6e1757/gistfile1.cs\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/yetanotherchris/4959932#file-gistfile1-cs\">gistfile1.cs</a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<h3>Animating NavigationController.PushViewController</h3>\n<p>For simple transition animations when pushing a new view, you can use UIView.BeginAnimation to achieve 4 different effects. This is fairly easy to do as illustrated below. For a wider range of animations, the CATransition class is the best option - <a href=\"/monotouch/monotouch-tips-and-snippets\">described here</a>.</p>\n<pre>// Make sure you push first or the Title doesn't get animated.\nvar controller = new MyController();\nNavigationController.PushViewController(controller, false);\nUIView.BeginAnimations(null,IntPtr.Zero);\nUIView.SetAnimationDuration(1);    UIView.SetAnimationTransition(UIViewAnimationTransition.FlipFromLeft,NavigationController.View,true);\nUIView.CommitAnimations();\n</pre>\n<p>If you want the animation to occur when the controller is popped/dissapears you will need to hide the back button and handle the click yourself (or any button you use to hide the current controller). This can be done with the roughly the same code:</p>\n<pre>UIView.BeginAnimations(null,IntPtr.Zero);\nUIView.SetAnimationDuration(1);\nUIView.SetAnimationTransition(UIViewAnimationTransition.FlipFromRight,NavigationController.View,true);\nNavigationController.PopViewControllerAnimated(false);\nUIView.CommitAnimations();\n</pre>\n<h3>Replacing the toolbar</h3>\n<p>When you push a new controller, the toolbar is replaced. If you want the same toolbar to appear as the last controller, one solution is to derive your controllers from one base class that inherits from UIViewController, and then adds the toolbar in its ViewDidLoad method. Alternatively you may not want that toolbar to display again. The code below demonstrates adding a new toolbar item, which when clicked pushes another controller.</p>\n<pre>public class Level2ViewController : UIViewController\n{\n\tpublic override void ViewDidLoad()\n\t{\n\t\tTitle = \"Level 2\";\n\t\tUILabel label = new UILabel();\n\t\tlabel.Text = \"Level2ViewController\";\n\t\tlabel.Frame = new System.Drawing.RectangleF(100, 100, 100, 100);\n\t\tView.AddSubview(label);\n\t\t\n\t\t// A new toolbar with items\n\t\tUIBarButtonItem item = new UIBarButtonItem();\n\t\titem.Title = \"Another item\";\n\t\titem.Clicked += delegate(object sender, EventArgs e)\n\t\t{\n\t\t\tLevel3ViewController controller = new Level3ViewController();\n\t\t\tNavigationController.PushViewController(controller, true);\n\t\t};\n\n\t\tToolbarItems = new UIBarButtonItem[] { item };\n\t\tbase.ViewDidLoad();\n\t}\n\n\tpublic override void ViewWillAppear(bool animated)\n\t{\n\t\t// Re-show the toolbar here for consistency\n\t\tNavigationController.SetToolbarHidden(false, true);\n\t\tbase.ViewWillAppear(animated);\n\t}\n}\n</pre>\n<h3>Hiding the back button</h3>\n<p>The second button on the toolbar pushes a new controller, which demonstrates hiding the back button. Of course without the back button present the user can’t do anything except quit the application, but this is simply to demonstrate hiding it. You may want to hide the back button for an intermediate loading screen.</p>\n<pre>public class ViewWithNoBackController: UIViewController\n{\n\tpublic override void ViewDidLoad ()\n\t{\n\t\tTitle = \"Settings\";\n\t\t\n\t\t// The label again\n\t\tUILabel label = new UILabel();\n\t\tlabel.Text = \"ViewWithNoBackController\";\n\t\tlabel.Frame = new RectangleF(100,100,100,100);\n\t\tView.AddSubview(label);\n\t\t\n\t\t// Demonstrates hiding the back and toolbars.\n\t\tNavigationItem.SetHidesBackButton(true,true);\n\t\tNavigationController.SetToolbarHidden(true,true);\n\t\tbase.ViewDidLoad ();\n\t}\n}\n</pre>\n<p>If you want the animation to occur when the controller is popped/dissapears you will need to hide the back button and handle the click yourself (or any button you use to hide the current controller). This can be done with the roughly the same code:</p>\n<pre>UIView.BeginAnimations(null,IntPtr.Zero);\nUIView.SetAnimationDuration(1);\nUIView.SetAnimationTransition(UIViewAnimationTransition.FlipFromRight,NavigationController.View,true);\nNavigationController.PopViewControllerAnimated(false);\nUIView.CommitAnimations();\n</pre>\n<h3>Replacing the toolbar</h3>\n<p>When you push a new controller, the toolbar is replaced. If you want the same toolbar to appear as the last controller, one solution is to derive your controllers from one base class that inherits from UIViewController, and then adds the toolbar in its ViewDidLoad method. Alternatively you may not want that toolbar to display again. The code below demonstrates adding a new toolbar item, which when clicked pushes another controller.</p>\n<pre>public class Level2ViewController : UIViewController\n{\n\tpublic override void ViewDidLoad()\n\t{\n\t\tTitle = \"Level 2\";\n\t\tUILabel label = new UILabel();\n\t\tlabel.Text = \"Level2ViewController\";\n\t\tlabel.Frame = new System.Drawing.RectangleF(100, 100, 100, 100);\n\t\tView.AddSubview(label);\n\t\t\n\t\t// A new toolbar with items\n\t\tUIBarButtonItem item = new UIBarButtonItem();\n\t\titem.Title = \"Another item\";\n\t\titem.Clicked += delegate(object sender, EventArgs e)\n\t\t{\n\t\t\tLevel3ViewController controller = new Level3ViewController();\n\t\t\tNavigationController.PushViewController(controller, true);\n\t\t};\n\n\t\tToolbarItems = new UIBarButtonItem[] { item };\n\t\tbase.ViewDidLoad();\n\t}\n\n\tpublic override void ViewWillAppear(bool animated)\n\t{\n\t\t// Re-show the toolbar here for consistency\n\t\tNavigationController.SetToolbarHidden(false, true);\n\t\tbase.ViewWillAppear(animated);\n\t}\n}</pre>\n<h3>Going straight to a controller in the stack</h3>\n<p>If the application has just started, or for any other reason you want to jump straight to the last controller in the chain (in my example, Level3ViewController) this can be achieved by manually creating the NavigationController.ViewControllers array. </p>\n<pre>using System.Linq;\npublic class NavigationController : UINavigationController\n{\n\tpublic override void ViewDidLoad ()\n\t{\n\t\tvar firstController = new HomeViewController();\n\t\tvar secondController = new Level2ViewController();\n\t\tvar thirdController = new Level3ViewController();\n\t\tvar viewControllers = ViewControllers.ToList();\n\t\tviewControllers.Add(firstController);\n\t\tviewControllers.Add(secondController);\n\t\tviewControllers.Add(thirdController);\n\t\tViewControllers = viewControllers.ToArray();\n\t\tbase.ViewDidLoad ();\n\t}\n}\n</pre>\n<h3>Removing a controller from the stack</h3>\n<p>Removing a controller uses the same technique as above, but removing rather than adding. It maybe possible to remove the current one too e.g. RemoveAt(controllers.Length -1) however I haven’t tried this out.</p>\n<pre>public class Level3ViewController: UIViewController\n{\n\tpublic override void ViewDidLoad ()\n\t{\n\t\tvar controllers = NavigationController.ViewControllers.ToList();\n\t\tfor (int i = 0; i &lt; controllers.Count; i++)\n\t\t{\n\t\t\tif (controllers[i] is Level2ViewController)\n\t\t\tcontrollers.RemoveAt(i);\n\t\t}\n\t\tNavigationController.ViewControllers = controllers.ToArray();\n\t}\n}\n</pre>","frontmatter":{"title":"UINavigationController by example","date":"September 12, 2010","description":"A look at the UINavigationController in Monotouch."}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2010-09-12-uinavigationcontroller-by-example/","previous":{"fields":{"slug":"/2010-09-09-a-look-at-net-orms-part-2/"},"frontmatter":{"title":"A Look At .NET ORMs - Part 2"}},"next":{"fields":{"slug":"/2010-10-10-monotouch-tips-and-snippets/"},"frontmatter":{"title":"Monotouch tips and snippets"}}}}